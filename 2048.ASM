.MODEL	SMALL
.STACK 100H
.DATA

VET  	DB   1,1,1,1
        DB   1,1,1,1
		DB 	 1,1,1,1
		DB   1,1,1,1
		
			
LOOP1	DW	 1
LOOP2	DW	 0
LOOP3   DW	 0
FLAG1	DB	 2
FLAG2	DB	 1
FLAG3	DB	 1
PLAYS	DW  0
TEST1  DB 	0
TEST  DB 	0

AUXDH	 DW	 0		
AUXDL	 DW	 0
AUXAUXDH DW	 0	
AUXAUXDL DW  0
COUNT 	 DW  0
COUNT2	 DW	 0		
NN2E4	 DW  0	

NUMX		DW		0
NUMY		DW		0
NUMXSUM	DW		0
NUMYSUM	DW		0	

TIPO		DB		0
COR			DB		0




NUM2  	DB     495 DUP(0),8 DUP(1),32 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     8 DUP(1),37 DUP(0)
		DB     1,1,1,37 DUP(0)
		DB     1,1,1,37 DUP(0)
		DB     1,1,1,32 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     1,1,1,37 DUP(0)
		DB     1,1,1,37 DUP(0)
		DB     1,1,1,37 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     8 DUP(1),32 DUP(0)
		DB     8 DUP(1),537 DUP(0)
	
NUM4  	DB 495 DUP(0),1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 8 DUP(1),32 DUP(0)
		DB 8 DUP(1),32 DUP(0)
		DB 8 DUP(1),37 DUP(0)
		DB 1,1,1,37 DUP(0)
		DB 1,1,1,37 DUP(0)
		DB 1,1,1,37 DUP(0)
		DB 1,1,1,37 DUP(0)
		DB 1,1,1,37 DUP(0)
		DB 1,1,1,536 DUP(0)
	
NUM8  	DB 455 DUP(0),10 DUP(1),30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0) 
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 1,1,1,4 DUP(0),1,1,1,30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 10 DUP(1),30 DUP(0)
		DB 10 DUP(1),576 DUP(0)
	
NUM16 	DB 494 DUP(0),1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,27 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,27 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0) 
		DB 1,1,1,0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),537 DUP(0)
		
NUM32 	DB 491 DUP(0),8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,27 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,27 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,23 DUP(0)
		DB 7 DUP(1),0,0,8 DUP(1),23 DUP(0)
		DB 7 DUP(1),0,0,8 DUP(1),23 DUP(0)
		DB 7 DUP(1),0,0,8 DUP(1),27 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,32 DUP(0)
		DB 1,1,1,0,0,1,1,1,27 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),540 DUP(0) 
	
NUM64	DB 491 DUP(0),8 DUP(1),0,0,1,1,1,0,0,1,1,1,22 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,1,1,1,22 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,1,1,1,22 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,22 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,22 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),22 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,22 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,22 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,22 DUP(0)
		DB 8 DUP(1),7 DUP(0), 1,1,1,22 DUP(0)
		DB 8 DUP(1),7 DUP(0), 1,1,1,22 DUP(0)
		DB 8 DUP(1),7 DUP(0), 1,1,1,531 DUP(0)

NUM128 	DB 527 DUP(0), 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,1,1,1,4 DUP(0),1,1,1,15 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,4 DUP(0),1,1,1,15 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,4 DUP(0),1,1,1,15 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,4 DUP(0),1,1,1,15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),15 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,4 DUP(0), 1,1,1,15 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,4 DUP(0), 1,1,1,15 DUP(0)
		DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,4 DUP(0), 1,1,1,15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,1,1,1,4 DUP(0),1,1,1,15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),15 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,10 DUP(1),528 DUP(0)
 
NUM256 	DB 486 DUP(0),8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
		DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),16 DUP(0)
        DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,22 DUP(0)
        DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,22 DUP(0)
        DB 1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,17 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 1,1,1,12 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,11 DUP(0)
        DB 1,1,1,12 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,11 DUP(0)
        DB 1,1,1,12 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),11 DUP(0)
        DB 8 DUP(1),0,0,8 DUP(1),0,0,9 DUP(1),525 DUP(0) 
        
NUM512	DB 488 DUP(0),8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,7 DUP(0),1,1,1,17 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,7 DUP(0),1,1,1,17 DUP(0)
		DB 1,1,1,7 DUP(0),1,1,1,7 DUP(0),1,1,1,17 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1),0,0,1,1,1,0,0,8 DUP(1),22 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,27 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,27 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,22 DUP(0)
		DB 8 DUP(1), 0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1), 0,0,1,1,1,0,0,8 DUP(1),17 DUP(0)
		DB 8 DUP(1), 0,0,1,1,1,0,0,8 DUP(1),529 DUP(0)
		
NUM1024 DB 482 DUP(0),1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,3 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,3 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,3 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,0,0,0,1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,8 DUP(1),0,0,9 DUP(1),6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,8 DUP(1),0,0,9 DUP(1),6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,8 DUP(1),0,0,9 DUP(1),6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,13 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,13 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,13 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,6 DUP(0)
		DB 1,1,1,0,0,8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,524 DUP(0)
	   
NUM2048 DB 480 DUP(0),8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,0,0,0,1,1,1,0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,0,0,0,1,1,1,0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,8 DUP(1),0,0,1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,6 DUP(0)
        DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,6 DUP(0)
        DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,6 DUP(0)
        DB 1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0
        DB 8 DUP(1),0,0,1,1,1,0,0,1,1,1,0,0,9 DUP(1),0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,1,1,1,0,0,1,1,1,0,0,9 DUP(1),0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,1,1,1,0,0,1,1,1,0,0,9 DUP(1),0,0,8 DUP(1),0
        DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,8 DUP(0),1,1,1,0,0,1,1,1,0,0,1,1,1,0
        DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,8 DUP(0),1,1,1,0,0,1,1,1,0,0,1,1,1,0
        DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,8 DUP(0),1,1,1,0,0,1,1,1,0,0,1,1,1,0
        DB 1,1,1,7 DUP(0),1,1,1,0,0,1,1,1,8 DUP(0),1,1,1,0,0,1,1,1,0,0,1,1,1,0
        DB 8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,0,0,8 DUP(1),0
        DB 8 DUP(1),0,0,8 DUP(1),8 DUP(0),1,1,1,0,0,8 DUP(1),521 DUP(0)
		
               		                                                                  			
.CODE

MAIN PROC
	;STRING
     MOV AX,@DATA
	 MOV DS,AX
	 
	 ;MOV AH,0
	 MOV Ax,13H
	 INT 10H
	 CALL MENU
	 
	MAINNOVAMENTE:
	
	CALL LUGAR
	
	MAINTOPO:
	CALL PRINTA
	CALL DELAY
	CMP FLAG1,1
	JE MAINFLAG1
	CALL LUGAR
	MAINFLAG1:
	MOV FLAG1,1
	CALL PRINTA
	CALL WINORLOSE
	MOV AH,1
	INT 21H
	CMP AL,'0'
	JE FIM
	CMP AL,'w'
	JE HIGH
	CMP AL,'s'
	JE LOW
	CMP AL,'a'
	JE LEFT
	CMP AL,'d'
	JE RIGHT
	JMP MAINSAI
	
	HIGH:
	CALL CIM
	JMP MAINSAI
	
	LOW:
	CALL BAI
	JMP MAINSAI
	
	LEFT:
	CALL ESQ
	JMP MAINSAI
	
	RIGHT:
	CALL DIR
	
	MAINSAI:

	INC PLAYS
	JMP MAINTOPO
	
	FIM:
	MOV Ax,03H
	INT 10H
	MOV AH,4CH
	INT 21H


MAIN ENDP

PROC PRINTA
	CALL MATRIZ
	MOV LOOP3,0
	MOV LOOP2,0	;Y
	MOV LOOP1,0 ;X
	LEA DI,VET
	PRILOOP1:
	MOV DL,[DI]
	MOV TIPO,DL
	MOV DL,0
	MOV DX,LOOP1
	MOV NUMX,DX
	MOV DL,0
	MOV DX,LOOP2
	MOV NUMY,DX	
	CALL NUM
	
	;INC LOOP1
	INC LOOP1
	INC DI
	CMP LOOP1,4
	JNE PRILOOP1
	
	INC LOOP2
	MOV LOOP1,0
	ADD LOOP3,4
	LEA DI,VET
	ADD DI,LOOP3
	
	CMP LOOP2,4
	JNE PRILOOP1
	
	RET
PRINTA ENDP

PROC MATRIZ
	
	MOV LOOP1,0
	MOV LOOP2,0
    MOV BH,25 	
    MOV CL,0B	 
    MOV CH,0B
    MOV DL,10000000B	
    MOV DH,1000000B  
	
	MOV AX, 0600h
	INT 10h

	
	MOV LOOP1,0
	MOV LOOP2,0
    MOV BH,26  	  
    MOV CL,0B	 
    MOV CH,0B	
    MOV DL,100B	
    MOV DH,100B       
 
	MATLOOP1:
	 MOV AX, 0600h
	 INT 10h	 
     ADD CL,0110B	
     ADD DL,0110B	   
    
	INC LOOP1
	CMP LOOP1,4
	JNE MATLOOP1
	
	 MOV CL,0B	  
     MOV DL,100B 	 
     ADD CH,0110B	
     ADD DH,0110B    
	 MOV LOOP1,0
	 CMP LOOP2,4
	 JNE MATLOOP1
	
	RET
	
MATRIZ ENDP

PROC NUM
	CMP TIPO,1
	JNE NUMFIM1
	JMP NUMFIM
	NUMFIM1:

	
	MOV AH,0
	MOV AL,48
	MUL NUMX
	MOV NUMX,AX
	ADD NUMXSUM,40
	MOV CX,NUMX
	ADD NUMXSUM,CX
	
	MOV AH,0
	MOV AL,48
	MUL NUMY
	MOV NUMY,AX
	ADD NUMYSUM,40
	MOV CX,NUMY
	ADD NUMYSUM,CX

	
	CMP TIPO,2
	JE TIPO2
	
	CMP TIPO,3
	JE TIPO4
	
	CMP TIPO,4
	JE TIPO8
	
	CMP TIPO,5
	JE TIPO16
	
	CMP TIPO,6
	JE TIPO32
	
	CMP TIPO,7
	JE TIPO64
	
	CMP TIPO,8
	JE TIPO128

	CMP TIPO,9
	JE  TIPO256
	
	CMP TIPO,10
	JE TIPO512
	
	CMP TIPO,11
	JE TIPO1024
	
	CMP TIPO,12
	JE  TIPO2048
	JMP NUMFIM
	TIPO2:
	MOV COR,15
	LEA SI,NUM2
	JMP NUMINICIO
	
	TIPO4:
	MOV COR,65
	LEA SI,NUM4
	JMP NUMINICIO
	
	TIPO8:
	MOV COR,64
	LEA SI,NUM8
	JMP NUMINICIO
	
	TIPO16:
	MOV COR,63
	LEA SI,NUM16
	JMP NUMINICIO
	
	TIPO32:
	MOV COR,62 
	LEA SI,NUM32
	JMP NUMINICIO
	
	TIPO64:
	MOV COR,61
	LEA SI,NUM64
	JMP NUMINICIO
	
	TIPO128:
	MOV COR,43
	LEA SI,NUM128
	JMP NUMINICIO
	
	TIPO256:
	MOV COR,44
	LEA SI,NUM256
	JMP NUMINICIO
	
	TIPO512:
	MOV COR,42
	LEA SI,NUM512
	JMP NUMINICIO
	
	TIPO1024:
	MOV COR,41
	LEA SI,NUM1024
	JMP NUMINICIO
	
	TIPO2048:
	MOV COR,115
	LEA SI,NUM2048
	JMP NUMINICIO
	
	NUMINICIO: 
      MOV CX,NUMX
      MOV DX,NUMY
      NUM2LOOP:
  	  MOV AH,0CH
   
	  MOV BL,[SI]
	  ADD SI,1
	  CMP BL,0
	  JNE NUM2N
	  JE NUM2S
	  NUM2S:
		MOV AL,COR  
		JMP NUM2FIM
	  NUM2N:  
		MOV AL,000B 
	  NUM2FIM:
      
      INT 10h
	  INC CX
      CMP CX,NUMXSUM
      JNE NUM2LOOP
	  
	  ;loop2
	  MOV CX,NUMX
      INC DX
      CMP DX,NUMYSUM
      JNE NUM2LOOP
	  
	  MOV NUMXSUM,0
	  MOV NUMYSUM,0
	NUMFIM:
	  RET
NUM ENDP

PROC MENU

		MOV 	AH,9H
		LEA 	DX,MSG7
		INT 	21H
		CALL LF
		CALL LF
	
		MOV 	AH,9H
		LEA 	DX,MSG8
		INT 	21H
		CALL LF
		MOV 	AH,9H
		LEA 	DX,MSG9
		INT 	21H
		CALL LF
		CALL LF
		
		MOV 	AH,9H
		LEA 	DX,MSG10
		INT 	21H
		MENU1:
		MOV AH,1
		INT 21H
		CMP AL,'0'
		JNE MENUFIM1
		MOV AX,03H
		INT 10H
		MOV AH,4CH
		INT 21H
		MENUFIM1:
		CALL LIMPA

RET
MENU ENDP


PROC WINORLOSE
	MOV FLAG2,1
	MOV LOOP1,0
	LEA SI,VET
	WINLOOP1:
	MOV DH,[SI]
	CMP DH,1
	JE 	WINTEM1
	CMP DH,12
	JE	WIN
	
	JMP WINCONTINUA1
	WIN:
	CALL VENCEU
	WINTEM1:
	MOV FLAG2,2
	WINCONTINUA1:
	INC LOOP1
	INC SI
	CMP LOOP1,16
	JNE WINLOOP1
	CMP FLAG2,2
	JNE WINCONTINUA2
	RET
	WINCONTINUA2:
	MOV FLAG2,1
	MOV FLAG3,1
	MOV AUXAUXDH,16
    MOV AUXAUXDL,15
	LEA SI,VET
	ADD SI,15
	MOV AUXDH,16
	MOV AUXDL,15
	MOV LOOP2,4
	MOV LOOP1,3
	MOV LOOP3,3
	WINHLOOP:
	DEC AUXDH
	MOV DH,[SI]
	DEC SI
	DEC AUXDL
	MOV BH,[SI]
	CMP DH,BH
	JNE	WINHSAI
	
	MOV FLAG2,2
	JMP WINHSAI
	WINHLOOP2:
	JMP WINHLOOP
	WINHSAI:
	CMP LOOP3,0
	DEC LOOP3
	JNE WINHLOOP
	
	LEA SI,VET
	ADD SI,AUXAUXDL
	MOV DX,AUXAUXDH
	MOV AUXDH,DX
	MOV DX,AUXAUXDL
	MOV AUXDL,DX
	MOV LOOP3,3
	CMP LOOP1,0
	DEC LOOP1
	JNZ WINHLOOP2
	
	SUB AUXAUXDH,4
	SUB AUXAUXDL,4
	LEA SI,VET
	ADD SI,AUXAUXDL
	MOV DX,AUXAUXDH
	MOV AUXDH,DX
	MOV DX,AUXAUXDL
	MOV AUXDL,DX
	MOV LOOP1,3
	CMP LOOP2,0
	DEC LOOP2
	JNZ WINHLOOP2
	
	MOV AUXAUXDH,19
    MOV AUXAUXDL,15
	LEA SI,VET
	ADD SI,15
	MOV AUXDH,19
	MOV AUXDL,15
	MOV LOOP2,4
	MOV LOOP1,3
	MOV LOOP3,3
	WINDLOOP:
	SUB AUXDH,4
	MOV DH,[SI]
	SUB SI,4
	SUB AUXDL,4
	MOV BH,[SI]
	CMP DH,BH
	JNE	WINDSAI
	
	MOV FLAG3,2 
		
	JMP WINDSAI
	WINDLOOP2:
	JMP WINDLOOP
	WINDSAI:
	CMP LOOP3,0
	DEC LOOP3
	JNE WINDLOOP
	
	
	
	LEA SI,VET
	ADD SI,AUXAUXDL
	MOV DX,AUXAUXDH
	MOV AUXDH,DX
	MOV DX,AUXAUXDL
	MOV AUXDL,DX
	MOV LOOP3,3
	CMP LOOP1,0
	DEC LOOP1
	JNZ WINDLOOP2
	
	SUB AUXAUXDH,1
	SUB AUXAUXDL,1
	LEA SI,VET
	ADD SI,AUXAUXDL
	MOV DX,AUXAUXDH
	MOV AUXDH,DX
	MOV DX,AUXAUXDL
	MOV AUXDL,DX
	MOV LOOP1,3
	CMP LOOP2,0
	DEC LOOP2
	JNZ WINDLOOP2
	
	CMP FLAG2,2
	JE WINDFIM
	CMP FLAG3,2
	JE WINDFIM
	
	CALL PERDEU
	
	WINDFIM:
	RET

WINORLOSE ENDP


PROC VENCEU
	CALL LIMPA
		MOV 	AH,9H
		LEA 	DX,MSG2
		INT 	21H
		MOV 	AH,9H
		LEA 	DX,MSG4
		INT 	21H
		MOV CX,PLAYS
		CALL SAI_DEC
		MOV 	AH,9H
		LEA 	DX,MSG5
		INT 	21H
		CALL LF
		MOV 	AH,9H
		LEA 	DX,MSG3
		INT 	21H

		VENCEULOOP:
		MOV AH,1
		INT 21H
		CMP AL,'n'
		JE VENCEUFIM
		CMP AL,'y'
		JE REINICIAR3
		JMP PERDEULOOP
		REINICIAR3:
		CALL REINICIAR
		
		VENCEUFIM:
		MOV AX,03H
		INT 10H
		MOV AH,4CH
		INT 21H
		
VENCEU ENDP



SAI_DEC PROC

		MOV 	AX,CX
		
		PUSH 	AX
		PUSH 	BX
		PUSH 	CX
		PUSH 	DX 		
		OR 		AX,AX 	
		JGE 	DECPT1 	
		PUSH 	AX 		
		MOV 	DL,'-'	
		MOV 	AH,2h 	
		INT 	21h 	
		POP 	AX 		
		NEG 	AX 		
		
		
DECPT1: 	XOR 	CX,CX 	
		MOV 	BX,10 	
DECPT2: 	XOR 	DX,DX 	
		DIV 	BX 	
		PUSH 	DX 		
		INC 	CX 	
		OR 		AX,AX 
		JNE 	DECPT2 	
		
		
		MOV 	AH,2h 	
DECPT3: 	POP 	DX 		
		ADD 	DL,30h 	
		INT 	21h 	
		LOOP 	DECPT3 	
		POP 	DX 		
		POP 	CX
		POP 	BX
		POP 	AX 		
		RET 			
		
SAI_DEC ENDP

PROC LIMPA
	MOV AX,13H  ;03h
	INT 10h
	RET
LIMPA ENDP
END MAIN